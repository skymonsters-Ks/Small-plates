#module background

#deffunc initBg

	posx = rnd(400) + 40
	posy = rnd(400) + 40
	ang = 0.0
	return

#deffunc updateBg

	ang += 0.002
	tcnt++
	return
	
#deffunc drawBg

	gmode 5, , , 10
	color 255, 255, 255
	repeat 2
		r = 240 - cnt * 120
		s = 64 - cnt * 32
		n = cnt \ 2 * 2 - 1
		repeat 12
			t = M_PI / 6 * cnt + 0.001 * tcnt * n
			x = cos(t) * r + 240
			y = sin(t) * r + 240
			grect x, y, ang + t, s, s
		loop
	loop
	gmode 3, , , 255
	return

#global
